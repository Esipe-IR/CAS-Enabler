parameters:
  class_mapping:
      6ir1: Esipe/Informatique et RÃ©seaux 1

  fake_ldap_user:
      homedirectory:
        - /home/6ir1/test
      givenname:
        - test
      sn:
        - test
      uid:
        - test
      mail:
        - test@test.fr
      supannetuid:
        - 424242
      accountstatus:
        - true

  fake_user: 
      user: test

  cas_enabler_auth:
      username_attribute: user
      query_service_parameter: ticket
      query_ticket_parameter: service
      options:
          env: "%kernel.environment%"
          default_user: "%fake_user%"
      server_login_url: https://cas.u-pem.fr/login
      server_validation_url: https://cas.u-pem.fr/serviceValidate
      server_logout_url: https://cas.u-pem.fr/logout
      xml_namespace: cas

services:
  ldap.service:
      class: AppBundle\Service\LdapService
      arguments: ["%ldap_host%", "%kernel.environment%", "%class_mapping%", "%fake_ldap_user%"]

  ask.service:
      class: AppBundle\Service\AskService
  
  response.service:
      class: AppBundle\Service\ResponseService

  flush.service:
      class: AppBundle\Service\FlushService

  cas.enabler.authenticator:
      class: AppBundle\Security\CasEnablerAuthenticator
      arguments: ["%cas_enabler_auth%"]
